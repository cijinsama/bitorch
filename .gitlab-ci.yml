image: python:3.8

before_script:
    - python --version
    - pip install --find-links https://download.pytorch.org/whl/torch_stable.html "torch==1.9.0+cu111" "torchvision==0.10.0+cu111"
    - pip install -e .[dev]
    - flake8 --version
    - mypy --version
    - pytest --version

test-codestyle:
  stage: test
  script:
    - pwd
    - ls -l
    - python -c "import sys;print(sys.path)"
    - flake8 --config=setup.cfg
    - mypy --config-file mypy.ini

test-units:
  stage: test
  script:
    - pwd
    - ls -l
    - python -c "import sys;print(sys.path)"
    - python -m pytest .
